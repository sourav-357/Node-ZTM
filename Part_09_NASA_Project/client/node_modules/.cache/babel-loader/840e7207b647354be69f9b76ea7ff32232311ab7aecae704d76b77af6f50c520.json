{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useCallback, useEffect, useState } from \"react\";\nimport { httpGetLaunches, httpSubmitLaunch, httpAbortLaunch } from './requests';\nfunction useLaunches(onSuccessSound, onAbortSound, onFailureSound) {\n  _s();\n  const [launches, saveLaunches] = useState([]);\n  const [isPendingLaunch, setPendingLaunch] = useState(false);\n  const getLaunches = useCallback(async () => {\n    const fetchedLaunches = await httpGetLaunches();\n    saveLaunches(fetchedLaunches);\n  }, []);\n  useEffect(() => {\n    getLaunches();\n  }, [getLaunches]);\n  const submitLaunch = useCallback(async e => {\n    e.preventDefault();\n    // setPendingLaunch(true);\n    const data = new FormData(e.target);\n    const launchDate = new Date(data.get(\"launch-day\"));\n    const mission = data.get(\"mission-name\");\n    const rocket = data.get(\"rocket-name\");\n    const target = data.get(\"planets-selector\");\n    const response = await httpSubmitLaunch({\n      launchDate,\n      mission,\n      rocket,\n      target\n    });\n\n    // TODO: Set success based on response.\n    const success = false;\n    if (success) {\n      getLaunches();\n      setTimeout(() => {\n        setPendingLaunch(false);\n        onSuccessSound();\n      }, 800);\n    } else {\n      onFailureSound();\n    }\n  }, [getLaunches, onSuccessSound, onFailureSound]);\n  const abortLaunch = useCallback(async id => {\n    const response = await httpAbortLaunch(id);\n\n    // TODO: Set success based on response.\n    const success = false;\n    if (success) {\n      getLaunches();\n      onAbortSound();\n    } else {\n      onFailureSound();\n    }\n  }, [getLaunches, onAbortSound, onFailureSound]);\n  return {\n    launches,\n    isPendingLaunch,\n    submitLaunch,\n    abortLaunch\n  };\n}\n_s(useLaunches, \"8KpHIIq7AzMRt3raNpddjI+KYXY=\");\nexport default useLaunches;","map":{"version":3,"names":["useCallback","useEffect","useState","httpGetLaunches","httpSubmitLaunch","httpAbortLaunch","useLaunches","onSuccessSound","onAbortSound","onFailureSound","_s","launches","saveLaunches","isPendingLaunch","setPendingLaunch","getLaunches","fetchedLaunches","submitLaunch","e","preventDefault","data","FormData","target","launchDate","Date","get","mission","rocket","response","success","setTimeout","abortLaunch","id"],"sources":["C:/Users/xsour/OneDrive/Desktop/Learning Node-ZTM/Node-ZTM/Part_09_NASA_PROJECT/client/src/hooks/useLaunches.js"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\r\n\r\nimport {\r\n  httpGetLaunches,\r\n  httpSubmitLaunch,\r\n  httpAbortLaunch,\r\n} from './requests';\r\n\r\nfunction useLaunches(onSuccessSound, onAbortSound, onFailureSound) {\r\n  const [launches, saveLaunches] = useState([]);\r\n  const [isPendingLaunch, setPendingLaunch] = useState(false);\r\n\r\n  const getLaunches = useCallback(async () => {\r\n    const fetchedLaunches = await httpGetLaunches();\r\n    saveLaunches(fetchedLaunches);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getLaunches();\r\n  }, [getLaunches]);\r\n\r\n  const submitLaunch = useCallback(async (e) => {\r\n    e.preventDefault();\r\n    // setPendingLaunch(true);\r\n    const data = new FormData(e.target);\r\n    const launchDate = new Date(data.get(\"launch-day\"));\r\n    const mission = data.get(\"mission-name\");\r\n    const rocket = data.get(\"rocket-name\");\r\n    const target = data.get(\"planets-selector\");\r\n    const response = await httpSubmitLaunch({\r\n      launchDate,\r\n      mission,\r\n      rocket,\r\n      target,\r\n    });\r\n\r\n    // TODO: Set success based on response.\r\n    const success = false;\r\n    if (success) {\r\n      getLaunches();\r\n      setTimeout(() => {\r\n        setPendingLaunch(false);\r\n        onSuccessSound();\r\n      }, 800);\r\n    } else {\r\n      onFailureSound();\r\n    }\r\n  }, [getLaunches, onSuccessSound, onFailureSound]);\r\n\r\n  const abortLaunch = useCallback(async (id) => {\r\n    const response = await httpAbortLaunch(id);\r\n\r\n    // TODO: Set success based on response.\r\n    const success = false;\r\n    if (success) {\r\n      getLaunches();\r\n      onAbortSound();\r\n    } else {\r\n      onFailureSound();\r\n    }\r\n  }, [getLaunches, onAbortSound, onFailureSound]);\r\n\r\n  return {\r\n    launches,\r\n    isPendingLaunch,\r\n    submitLaunch,\r\n    abortLaunch,\r\n  };\r\n}\r\n\r\nexport default useLaunches;"],"mappings":";AAAA,SAASA,WAAW,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAExD,SACEC,eAAe,EACfC,gBAAgB,EAChBC,eAAe,QACV,YAAY;AAEnB,SAASC,WAAWA,CAACC,cAAc,EAAEC,YAAY,EAAEC,cAAc,EAAE;EAAAC,EAAA;EACjE,MAAM,CAACC,QAAQ,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC7C,MAAM,CAACW,eAAe,EAAEC,gBAAgB,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAE3D,MAAMa,WAAW,GAAGf,WAAW,CAAC,YAAY;IAC1C,MAAMgB,eAAe,GAAG,MAAMb,eAAe,CAAC,CAAC;IAC/CS,YAAY,CAACI,eAAe,CAAC;EAC/B,CAAC,EAAE,EAAE,CAAC;EAENf,SAAS,CAAC,MAAM;IACdc,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,CAACA,WAAW,CAAC,CAAC;EAEjB,MAAME,YAAY,GAAGjB,WAAW,CAAC,MAAOkB,CAAC,IAAK;IAC5CA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB;IACA,MAAMC,IAAI,GAAG,IAAIC,QAAQ,CAACH,CAAC,CAACI,MAAM,CAAC;IACnC,MAAMC,UAAU,GAAG,IAAIC,IAAI,CAACJ,IAAI,CAACK,GAAG,CAAC,YAAY,CAAC,CAAC;IACnD,MAAMC,OAAO,GAAGN,IAAI,CAACK,GAAG,CAAC,cAAc,CAAC;IACxC,MAAME,MAAM,GAAGP,IAAI,CAACK,GAAG,CAAC,aAAa,CAAC;IACtC,MAAMH,MAAM,GAAGF,IAAI,CAACK,GAAG,CAAC,kBAAkB,CAAC;IAC3C,MAAMG,QAAQ,GAAG,MAAMxB,gBAAgB,CAAC;MACtCmB,UAAU;MACVG,OAAO;MACPC,MAAM;MACNL;IACF,CAAC,CAAC;;IAEF;IACA,MAAMO,OAAO,GAAG,KAAK;IACrB,IAAIA,OAAO,EAAE;MACXd,WAAW,CAAC,CAAC;MACbe,UAAU,CAAC,MAAM;QACfhB,gBAAgB,CAAC,KAAK,CAAC;QACvBP,cAAc,CAAC,CAAC;MAClB,CAAC,EAAE,GAAG,CAAC;IACT,CAAC,MAAM;MACLE,cAAc,CAAC,CAAC;IAClB;EACF,CAAC,EAAE,CAACM,WAAW,EAAER,cAAc,EAAEE,cAAc,CAAC,CAAC;EAEjD,MAAMsB,WAAW,GAAG/B,WAAW,CAAC,MAAOgC,EAAE,IAAK;IAC5C,MAAMJ,QAAQ,GAAG,MAAMvB,eAAe,CAAC2B,EAAE,CAAC;;IAE1C;IACA,MAAMH,OAAO,GAAG,KAAK;IACrB,IAAIA,OAAO,EAAE;MACXd,WAAW,CAAC,CAAC;MACbP,YAAY,CAAC,CAAC;IAChB,CAAC,MAAM;MACLC,cAAc,CAAC,CAAC;IAClB;EACF,CAAC,EAAE,CAACM,WAAW,EAAEP,YAAY,EAAEC,cAAc,CAAC,CAAC;EAE/C,OAAO;IACLE,QAAQ;IACRE,eAAe;IACfI,YAAY;IACZc;EACF,CAAC;AACH;AAACrB,EAAA,CA5DQJ,WAAW;AA8DpB,eAAeA,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}